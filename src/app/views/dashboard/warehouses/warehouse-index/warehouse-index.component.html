<app-loading *ngIf="loading"></app-loading>

<div class="card" *ngIf="!loading">

    <div class="card-header bg-primary-subtle d-flex justify-content-between align-items-center pt-3 pb-3">
        <div class="title"><fa-icon [icon]="faWarehouse" class="me-2"></fa-icon> Sucursales</div>
        <app-button [icon]="faPlus" color="primary" (click)="openVerticallyCentered(openModal)">Crear</app-button>
    </div>

    <div class="card-body">

        <div *ngIf="warehouses.length > 0; else sinWarehouses">

            <ul class="list-group list-group-flush">

                <ng-container *ngFor="let warehouse of warehouses">

                    <li class="list-group-item d-flex justify-content-between">
                        <span>
                            {{ warehouse.name }}
                        </span>
                        <app-button-link color="secondary">Editar</app-button-link>
                    </li>

                </ng-container>
            </ul>

        </div>

        <ng-template #sinWarehouses>
            No hay sucursales
        </ng-template>

    </div>

</div>

<ng-template #openModal let-modal>
    <div class="modal-header">
        <h5 class="modal-title"><fa-icon [icon]="faWarehouse" class="me-2"></fa-icon> Sucursal</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body p-4">

        <app-warehouse-create (emitWarehouse)="reListWarehouse($event)"></app-warehouse-create>

    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.close('Close click')">Close</button>
    </div>
</ng-template>