<app-loading *ngIf="loading"></app-loading>

<form [formGroup]="form" *ngIf="!loading">

  <div class="card mb-3">

    <div class="card-header py-3 bg-primary text-white">
      <fa-icon [icon]="faPenToSquare" class="me-2"></fa-icon> Edicion Producto
    </div>

    <div class="card-body">

      <div class="row mb-3">
        <div class="col-lg-8">
          <app-input-group [icon]="faPenToSquare">
            <input formControlName="name" type="text" class="form-control" placeholder="Product Name" aria-label="name"
              aria-describedby="basic-name" />
          </app-input-group>
        </div>

        <div class="col-lg-4">
          <app-input-group icontext="S/.">
            <input formControlName="price" type="number" step="0.01" class="form-control" placeholder="0.00"
              aria-label="price" aria-describedby="basic-price" />
          </app-input-group>
        </div>

        <div class="col-lg-12 col-12">
          <textarea formControlName="body" class="form-control mb-3" placeholder="Descripcion"></textarea>
        </div>

        <div class="col-lg-12 col-12">
          <app-input-group>
            <input formControlName="tags" type="text" class="form-control" placeholder="tags" aria-label="price"
              aria-describedby="basic-price" />
          </app-input-group>
        </div>

        <div class="col-lg-12 col-12 d-flex justify-content-between align-items-center mb-3">
          <div style="font-style: italic;">Categoria: {{ product.category?.name || 'Sin Categoria' }}</div>
        </div>

        <app-button color="primary" icon="fa-solid fa-save" [disabled]="disabledButton" [loadingIcon]="loadingIcon"
          (action)="update()">Actualizar Producto</app-button>

        <!-- {{ form.value | json }} -->

      </div>

    </div>

  </div>


  <div class="card mb-3">

    <div class="card-header py-3 bg-primary-subtle d-flex justify-content-between align-items-center">
      <div><fa-icon [icon]="faImage" class="me-2"></fa-icon> Galeria</div>
      <div><app-button-add>Variantes</app-button-add></div>
    </div>

    <div class="card-body">

      <app-gallery></app-gallery>

      <hr>

      <app-gallery></app-gallery>

      <hr>

      <app-gallery></app-gallery>

      <hr>

      <app-gallery></app-gallery>
      
      <hr>

      <app-gallery></app-gallery>

    </div>

  </div>

</form>