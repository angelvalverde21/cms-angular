<app-loading *ngIf="loading"></app-loading>

<form [formGroup]="form" (ngSubmit)="create()" *ngIf="!loading">

  <div class="card">

    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center pt-3 pb-3">
      <div>Crear Producto</div>
      <app-button-link [icon]="faArrowLeft" color="dark" colortext="text-white "
        [path]="['products']">Volver</app-button-link>
    </div>

    <div class="card-body">

      <div class="row mb-3">
        <div class="col-lg-12">
          <app-input-group text="Titulo" [icon]="editIcon">
            <input formControlName="name" type="text" class="form-control" placeholder="Nombre del producto"
              aria-label="name" aria-describedby="basic-name" />
          </app-input-group>
        </div>

        <div class="col-lg-6">
          <app-input-group text="Precio" icontext="S/.">
            <input formControlName="price" type="number" step="0.01" class="form-control" placeholder="0.00"
              aria-label="price" aria-describedby="basic-price" />
          </app-input-group>
        </div>

        <div class="col-lg-6">
          <label class="mb-2">Unidades</label>
          <div class="mb-3">
            <app-unit-selected formControlName="unit_id"></app-unit-selected>
          </div>
        </div>

        <div class="col-lg-12 col-12">
          <label class="mb-2">Descripcion</label>
          <textarea formControlName="body" class="form-control mb-3" placeholder="Descripcion"></textarea>
        </div>

        <div class="col-lg-6 col-md-6 col-6">
          <app-input-group text="Sku" [icon]="faTags">
            <input formControlName="sku" type="text" class="form-control" placeholder="sku" aria-label="price"
              aria-describedby="basic-price" />
          </app-input-group>
        </div>

        <div class="col-lg-6 col-md-6 col-6">
          <app-input-group text="Codigo de Barras" [icon]="faBarcode">
            <input formControlName="barcode" type="text" class="form-control" placeholder="barcode" aria-label="price"
              aria-describedby="basic-price" />
          </app-input-group>
        </div>



      </div>

      <div class="alert alert-warning" role="alert">
        Para agregar imagenes primero debe crear el producto
      </div>

      <app-button color="dark" [icon]="faPlus" [disabled]="disabledButton" [loadingIcon]="loadingIcon"
        (action)="create()">Crear Producto</app-button>

      {{ form.value | json }}

    </div>

  </div>

</form>